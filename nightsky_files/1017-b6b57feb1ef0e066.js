"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1017],{23695:function(e,t,n){n.d(t,{$:function(){return g}});var a=n(85893),s=n(99461),l=n(12596),c=n(85335),r=n(86010),i=n(25675),o=n.n(i),d=n(41664),u=n.n(d),m=n(67294),f=n(4886),h=n(59456),x=n(49178),p=n(70927);function g(e){let{title:t,accentColor:n,images:i,mainImageSrc:d="",size:g="md",skeleton:y=!1,user:j,service:w,model:v,numberOfStyles:b}=e,{isLoading:N}=(0,h.u)([d]),T=m.useMemo(()=>{let e=i&&i.length>=4&&i.every(e=>(0,x.H)(e));return e?i.slice(0,4):[,,,,].fill(null)},[i]),Z=m.useMemo(()=>{switch(w){case"Stable Diffusion":default:return{name:w,image:l.hz};case"DALL\xb7E":return{name:w,image:l.r7}}},[w]);return y?(0,a.jsx)(p.Z,{className:"rounded-md p-4 w-full",children:(0,a.jsxs)("div",{className:"min-w-full max-w-md rounded-md",children:[(0,a.jsx)("div",{className:"relative group w-full overflow-hidden rounded-lg mb-4",children:(0,a.jsx)("div",{className:"aspect-[3/4] w-full relative",children:(0,a.jsx)("div",{className:"absolute w-full h-full z-10 bg-primary/10"})})}),(0,a.jsxs)("div",{className:"space-y-3 w-full flex flex-col pb-3",children:[(0,a.jsx)("div",{className:"h-3 w-3/5 rounded-lg bg-primary/10"}),(0,a.jsx)("div",{className:"h-3 w-4/5 rounded-lg bg-primary/20"}),(0,a.jsx)("div",{className:"h-3 w-2/5 rounded-lg bg-primary/20"})]})]})}):(console.log("Model received in Spotlight:",v),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,r.Z)("bg-muted hover:bg-secondary p-3 rounded-lg",{"pb-6 ":"md"===g,"pb-3":"xs"===g||"sm"===g}),children:[(0,a.jsxs)("div",{className:(0,r.Z)("relative group w-full overflow-hidden",{"rounded-lg mb-4":"md"===g,"rounded-lg mb-2":"xs"===g||"sm"===g}),children:[(0,a.jsxs)("div",{className:"aspect-square w-full relative overflow-hidden",children:[(0,a.jsx)("div",{className:(0,r.Z)("absolute w-full h-full z-10",{"":"md"===g,hidden:"xs"===g||"sm"===g}),style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 50%, ".concat(n," 100%)")}}),N?(0,a.jsx)("div",{className:(0,r.Z)("flex w-full h-full rounded-t-md items-center justify-center",{"text-left":"md"===g,"":"xs"===g||"sm"===g}),style:{background:n},children:(0,a.jsx)(f.Z,{name:"loadingSpinner",className:"animate-spin",size:36,color:"white"})}):(0,a.jsx)(o(),{unoptimized:!0,src:(0,c.m)(d,500),className:(0,r.Z)("bg-foreground/5 w-full h-full object-cover group-hover:scale-105 transform transition duration-500",{"":"md"===g,"text-left":"xs"===g||"sm"===g}),alt:t,fill:!0,quality:100})]}),(0,a.jsx)("div",{className:(0,r.Z)("text-center",{"px-4 lg:px-6 pb-5 lg:pb-7":"md"===g,"px-4":"xs"===g||"sm"===g}),style:{background:n},children:i&&(0,a.jsx)("div",{className:(0,r.Z)("flex items-center m-auto max-w-xs",{"gap-2 mb-0 md:mb-0":"md"===g,"gap-1 mb-0":"xs"===g||"sm"===g}),children:T.map((e,n)=>(0,x.H)(e)?(0,a.jsx)("div",{className:"aspect-square w-full relative",children:(0,a.jsx)(o(),{unoptimized:!0,src:(0,c.m)(e,100),className:(0,r.Z)("w-full h-full object-cover",{"rounded-md":"md"===g,"rounded-[4px]":"xs"===g||"sm"===g}),alt:t,layout:"fill"})},n):(0,a.jsx)("div",{className:(0,r.Z)("aspect-square w-full bg-white/10",{"rounded-md":"md"===g,"rounded-[4px]":"xs"===g||"sm"===g})},n))})})]}),(0,a.jsxs)("div",{className:"text-foreground flex-col items-start px-0 flex gap-y-1",children:[(0,a.jsx)("p",{className:(0,r.Z)("w-full text-left text-sm hover:opacity-100 truncate font-semibold",{"text-sm lg:text-base text-left mb-[2px] pr-4":"md"===g,"text-center text-xs px-2":"xs"===g||"sm"===g}),children:t||"Untitled"}),(0,a.jsxs)("div",{className:(0,r.Z)("text-left flex flex-col gap-y-1 text-xs items-center font-normal w-full",{"text-left":"md"===g,"":"xs"===g||"sm"===g}),children:[w&&(0,a.jsxs)("div",{className:(0,r.Z)("flex gap-0 justify-center items-center rounded-md z-50 w-full",{"text-xs":"md"===g,"":"xs"===g||"sm"===g}),children:[(0,a.jsx)(s.Z,{width:g,height:g,seed:Z.name||"seed",image:Z.image||"none",className:"invisible ring-inset w-0 h-0 md:w-0 md:h-0 ring-1 ring-opacity-10 ring-white shadow-[0_0_0_1px_rgba(0,0,0,0.1)]"}),(0,a.jsx)("span",{className:"opacity-60 truncate w-full",children:v})]}),j&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u(),{href:"/user/".concat(null==j?void 0:j.id),className:"w-full",children:(0,a.jsxs)("div",{className:(0,r.Z)("opacity-60 truncate w-full",{"":"md"===g,"invisible hidden":"xs"===g||"sm"===g}),children:["by ","@"+j.username]})})}),b&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,r.Z)("text-left flex w-full items-center font-normal opacity-60 truncate",{"text-xs":"md"===g,"":"xs"===g||"sm"===g}),children:[b," styles"]})})]})]})]})}))}},43552:function(e,t,n){n.d(t,{Wh:function(){return i},ZP:function(){return s},_v:function(){return r},bl:function(){return c},fR:function(){return m},jG:function(){return o},p8:function(){return l},wF:function(){return u},xz:function(){return d}});let a=()=>"/api";async function s(e){let t="".concat(a(),"/theme/").concat(e),n=await fetch(t,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return n.json()}async function l(e){let t=e.join("&id="),n="".concat(a(),"/theme/getByIds?id=").concat(t),s=await fetch(n,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return s.json()}async function c(e){let t="".concat(a(),"/theme/getByCategory?category=").concat(e),n=await fetch(t,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return n.json()}async function r(e,t,n,s){let l="?filter=".concat(t);n&&(l+="&query=".concat(n)),s&&(l+="&page=".concat(s));let c="".concat(a(),"/user/").concat(e,"/themes").concat(l),r=await fetch(c,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return r.json()}async function i(e,t,n,s,l,c){let r="?page=".concat(t||1);e&&(r+="&query=".concat(e)),n&&(r+="&onlyOwn=true"),s&&(r+="&service=".concat(s)),l&&(r+="&category=".concat(l)),c&&(r+="&liked=true");let i="".concat(a(),"/themes").concat(r),o=await fetch(i,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return o.json()}async function o(e){let t="".concat(a(),"/theme"),n=await fetch(t,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return n.json()}async function d(e){let t="".concat(a(),"/theme/").concat(e.id),n=await fetch(t,{credentials:"include",method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return n.json()}async function u(e){let t="".concat(a(),"/theme/").concat(e.id,"/reassign"),n=await fetch(t,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username})});return n.json()}async function m(e){let t="".concat(a(),"/theme/").concat(e),n=await fetch(t,{credentials:"include",method:"DELETE",headers:{"Content-Type":"application/json"}});return n.json()}},32571:function(e,t,n){n.d(t,{Ar:function(){return r},Dt:function(){return o},e9:function(){return c}});var a=n(76172),s=n(36492),l=n(43552);let c=(e,t)=>(0,s.a)(["theme",e],()=>(0,l.p8)(e),{...t,staleTime:3e5}),r=(e,t)=>(0,s.a)(["theme",e],()=>(0,l.bl)(e),{...t,staleTime:3e5}),i=()=>a.E.getQueriesData(["theme"]),o=e=>{let t=i();if(t){let n=t.find(t=>{let n=t[1];return!!n&&(Array.isArray(n)?n.find(t=>t.id===e):(null==n?void 0:n.id)===e)}),a=null==n?void 0:n[1];return Array.isArray(a)?a.find(t=>t.id===e):a}}},63509:function(e,t,n){n.d(t,{h:function(){return l}});var a=n(36492);let s=async e=>{let t=await fetch("/api/contentful/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}),n=await t.json();return n},l=(e,t)=>(0,a.a)(["contentful-entry",e],()=>s(e),{staleTime:3e5,...t})},59456:function(e,t,n){n.d(t,{u:function(){return s}});var a=n(36492);let s=(e,t)=>(0,a.a)(["imagePreloads",e],()=>l(e),{...t,enabled:e.length>0,staleTime:1/0,retry:!1}),l=e=>{let t=e.map(e=>new Promise((t,n)=>{let a=new Image;a.src=e,a.onload=t,a.onerror=n}));return Promise.all(t)}},85335:function(e,t,n){n.d(t,{m:function(){return a}});let a=(e,t)=>e.replace("public","width=".concat(t))},99199:function(e){e.exports=JSON.parse('{"eG":"4cxaBa2elBWQ4ynX3rrCQD","p0":"5UTpha97ScutT3nDbQjZd5"}')}}]);
//# sourceMappingURL=1017-b6b57feb1ef0e066.js.map