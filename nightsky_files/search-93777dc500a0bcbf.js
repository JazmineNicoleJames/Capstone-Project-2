(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9603],{8266:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return s(53109)}])},23695:function(e,t,s){"use strict";s.d(t,{$:function(){return g}});var l=s(85893),n=s(99461),a=s(12596),i=s(85335),c=s(86010),r=s(25675),d=s.n(r),o=s(41664),u=s.n(o),m=s(67294),f=s(4886),x=s(59456),h=s(49178),p=s(70927);function g(e){let{title:t,accentColor:s,images:r,mainImageSrc:o="",size:g="md",skeleton:j=!1,user:v,service:w,model:N,numberOfStyles:y}=e,{isLoading:b}=(0,x.u)([o]),Z=m.useMemo(()=>{let e=r&&r.length>=4&&r.every(e=>(0,h.H)(e));return e?r.slice(0,4):[,,,,].fill(null)},[r]),E=m.useMemo(()=>{switch(w){case"Stable Diffusion":default:return{name:w,image:a.hz};case"DALL\xb7E":return{name:w,image:a.r7}}},[w]);return j?(0,l.jsx)(p.Z,{className:"rounded-md p-4 w-full",children:(0,l.jsxs)("div",{className:"min-w-full max-w-md rounded-md",children:[(0,l.jsx)("div",{className:"relative group w-full overflow-hidden rounded-lg mb-4",children:(0,l.jsx)("div",{className:"aspect-[3/4] w-full relative",children:(0,l.jsx)("div",{className:"absolute w-full h-full z-10 bg-primary/10"})})}),(0,l.jsxs)("div",{className:"space-y-3 w-full flex flex-col pb-3",children:[(0,l.jsx)("div",{className:"h-3 w-3/5 rounded-lg bg-primary/10"}),(0,l.jsx)("div",{className:"h-3 w-4/5 rounded-lg bg-primary/20"}),(0,l.jsx)("div",{className:"h-3 w-2/5 rounded-lg bg-primary/20"})]})]})}):(console.log("Model received in Spotlight:",N),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:(0,c.Z)("bg-muted hover:bg-secondary p-3 rounded-lg",{"pb-6 ":"md"===g,"pb-3":"xs"===g||"sm"===g}),children:[(0,l.jsxs)("div",{className:(0,c.Z)("relative group w-full overflow-hidden",{"rounded-lg mb-4":"md"===g,"rounded-lg mb-2":"xs"===g||"sm"===g}),children:[(0,l.jsxs)("div",{className:"aspect-square w-full relative overflow-hidden",children:[(0,l.jsx)("div",{className:(0,c.Z)("absolute w-full h-full z-10",{"":"md"===g,hidden:"xs"===g||"sm"===g}),style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 50%, ".concat(s," 100%)")}}),b?(0,l.jsx)("div",{className:(0,c.Z)("flex w-full h-full rounded-t-md items-center justify-center",{"text-left":"md"===g,"":"xs"===g||"sm"===g}),style:{background:s},children:(0,l.jsx)(f.Z,{name:"loadingSpinner",className:"animate-spin",size:36,color:"white"})}):(0,l.jsx)(d(),{unoptimized:!0,src:(0,i.m)(o,500),className:(0,c.Z)("bg-foreground/5 w-full h-full object-cover group-hover:scale-105 transform transition duration-500",{"":"md"===g,"text-left":"xs"===g||"sm"===g}),alt:t,fill:!0,quality:100})]}),(0,l.jsx)("div",{className:(0,c.Z)("text-center",{"px-4 lg:px-6 pb-5 lg:pb-7":"md"===g,"px-4":"xs"===g||"sm"===g}),style:{background:s},children:r&&(0,l.jsx)("div",{className:(0,c.Z)("flex items-center m-auto max-w-xs",{"gap-2 mb-0 md:mb-0":"md"===g,"gap-1 mb-0":"xs"===g||"sm"===g}),children:Z.map((e,s)=>(0,h.H)(e)?(0,l.jsx)("div",{className:"aspect-square w-full relative",children:(0,l.jsx)(d(),{unoptimized:!0,src:(0,i.m)(e,100),className:(0,c.Z)("w-full h-full object-cover",{"rounded-md":"md"===g,"rounded-[4px]":"xs"===g||"sm"===g}),alt:t,layout:"fill"})},s):(0,l.jsx)("div",{className:(0,c.Z)("aspect-square w-full bg-white/10",{"rounded-md":"md"===g,"rounded-[4px]":"xs"===g||"sm"===g})},s))})})]}),(0,l.jsxs)("div",{className:"text-foreground flex-col items-start px-0 flex gap-y-1",children:[(0,l.jsx)("p",{className:(0,c.Z)("w-full text-left text-sm hover:opacity-100 truncate font-semibold",{"text-sm lg:text-base text-left mb-[2px] pr-4":"md"===g,"text-center text-xs px-2":"xs"===g||"sm"===g}),children:t||"Untitled"}),(0,l.jsxs)("div",{className:(0,c.Z)("text-left flex flex-col gap-y-1 text-xs items-center font-normal w-full",{"text-left":"md"===g,"":"xs"===g||"sm"===g}),children:[w&&(0,l.jsxs)("div",{className:(0,c.Z)("flex gap-0 justify-center items-center rounded-md z-50 w-full",{"text-xs":"md"===g,"":"xs"===g||"sm"===g}),children:[(0,l.jsx)(n.Z,{width:g,height:g,seed:E.name||"seed",image:E.image||"none",className:"invisible ring-inset w-0 h-0 md:w-0 md:h-0 ring-1 ring-opacity-10 ring-white shadow-[0_0_0_1px_rgba(0,0,0,0.1)]"}),(0,l.jsx)("span",{className:"opacity-60 truncate w-full",children:N})]}),v&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u(),{href:"/user/".concat(null==v?void 0:v.id),className:"w-full",children:(0,l.jsxs)("div",{className:(0,c.Z)("opacity-60 truncate w-full",{"":"md"===g,"invisible hidden":"xs"===g||"sm"===g}),children:["by ","@"+v.username]})})}),y&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:(0,c.Z)("text-left flex w-full items-center font-normal opacity-60 truncate",{"text-xs":"md"===g,"":"xs"===g||"sm"===g}),children:[y," styles"]})})]})]})]})}))}},17243:function(e,t,s){"use strict";s.d(t,{l:function(){return m}});var l=s(85893),n=s(67294),a=s(70984),i=s(66339),c=s(97650),r=s(41664),d=s.n(r),o=s(23695),u=s(70927);let m=e=>{let{query:t,service:s}=e,{data:r,hasNextPage:m,fetchNextPage:f,isFetchingNextPage:x}=(0,i.i)(t,!1,s),h=n.useMemo(()=>(null==r?void 0:r.pages.flat())||[],[r]),{ref:p,inView:g}=(0,c.YD)();return(n.useEffect(()=>{g&&!x&&m&&f()},[f,x,g,m]),null==h||h.length<=0)?(0,l.jsx)(a.Z,{hideGoHome:!0,smallText:"No templates found",bigText:"No templates"}):(console.log("All Themes Data:",h),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-x-4 gap-y-10 items-center justify-center",children:[h.map(e=>(0,l.jsx)(d(),{href:"/theme/".concat(e.id),children:(0,l.jsx)(o.$,{title:e.name,mainImageSrc:e.image||"/empty-hero.png",images:e.thumbnails,accentColor:e.accentColor||"#333",user:e.user,service:e.meta.model,model:e.meta.model})},e.id)),x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{className:"rounded-2xl aspect-[281/437] w-full"}),(0,l.jsx)(u.Z,{className:"rounded-2xl aspect-[281/437] w-full"}),(0,l.jsx)(u.Z,{className:"rounded-2xl aspect-[281/437] w-full"}),(0,l.jsx)(u.Z,{className:"rounded-2xl aspect-[281/437] w-full"}),(0,l.jsx)(u.Z,{className:"rounded-2xl aspect-[281/437] w-full"}),(0,l.jsx)(u.Z,{className:"rounded-2xl aspect-[281/437] w-full"})]})]}),!x&&(0,l.jsx)("div",{className:"w-full",ref:p})]}))}},43552:function(e,t,s){"use strict";s.d(t,{Wh:function(){return r},ZP:function(){return n},_v:function(){return c},bl:function(){return i},fR:function(){return m},jG:function(){return d},p8:function(){return a},wF:function(){return u},xz:function(){return o}});let l=()=>"/api";async function n(e){let t="".concat(l(),"/theme/").concat(e),s=await fetch(t,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return s.json()}async function a(e){let t=e.join("&id="),s="".concat(l(),"/theme/getByIds?id=").concat(t),n=await fetch(s,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return n.json()}async function i(e){let t="".concat(l(),"/theme/getByCategory?category=").concat(e),s=await fetch(t,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return s.json()}async function c(e,t,s,n){let a="?filter=".concat(t);s&&(a+="&query=".concat(s)),n&&(a+="&page=".concat(n));let i="".concat(l(),"/user/").concat(e,"/themes").concat(a),c=await fetch(i,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return c.json()}async function r(e,t,s,n,a,i){let c="?page=".concat(t||1);e&&(c+="&query=".concat(e)),s&&(c+="&onlyOwn=true"),n&&(c+="&service=".concat(n)),a&&(c+="&category=".concat(a)),i&&(c+="&liked=true");let r="".concat(l(),"/themes").concat(c),d=await fetch(r,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});return d.json()}async function d(e){let t="".concat(l(),"/theme"),s=await fetch(t,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return s.json()}async function o(e){let t="".concat(l(),"/theme/").concat(e.id),s=await fetch(t,{credentials:"include",method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return s.json()}async function u(e){let t="".concat(l(),"/theme/").concat(e.id,"/reassign"),s=await fetch(t,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username})});return s.json()}async function m(e){let t="".concat(l(),"/theme/").concat(e),s=await fetch(t,{credentials:"include",method:"DELETE",headers:{"Content-Type":"application/json"}});return s.json()}},66339:function(e,t,s){"use strict";s.d(t,{i:function(){return a}});var l=s(59403),n=s(43552);let a=(e,t,s,a,i)=>{var c;let{data:r,...d}=(0,l.N)(["themes",e,t,s,a,i],l=>{let{pageParam:c}=l;return(0,n.Wh)(e,c,t,s,a,i)},{staleTime:3e5,getNextPageParam:(e,t)=>10===e.length?t.length+1:void 0}),o=null==r?void 0:null===(c=r.pages)||void 0===c?void 0:c[r.pages.length-1],u=o&&10===o.length;return{data:r,hasNextPage:!u,...d}}},59456:function(e,t,s){"use strict";s.d(t,{u:function(){return n}});var l=s(36492);let n=(e,t)=>(0,l.a)(["imagePreloads",e],()=>a(e),{...t,enabled:e.length>0,staleTime:1/0,retry:!1}),a=e=>{let t=e.map(e=>new Promise((t,s)=>{let l=new Image;l.src=e,l.onload=t,l.onerror=s}));return Promise.all(t)}},53109:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return y},default:function(){return b}});var l=s(85893),n=s(67294),a=s(5993),i=s(95062),c=s(77378),r=s(22579),d=s(49178),o=s(30121),u=s(65451),m=s(4886),f=s(23570),x=s(17243),h=s(11163),p=s(20084),g=s(16605),j=s(16841);let v=[{value:"Popular",disabled:!1}],w=["Creations","Templates"],N=["All services","Stable Diffusion","DALL\xb7E","Midjourney","Stable Diffusion XL"];var y=!0;function b(e){let{query:t,isLoggedIn:s}=e,y=(0,r.to)(),{setIsLogInModalOpen:b}=(0,j.l9)();n.useEffect(()=>{(0,p.L9)(g._.search,{query:t}),y()},[]);let Z=(0,h.useRouter)(),E=Z.query.type,T=Z.query.provider,[C,_]=n.useState("Popular"),[S,k]=n.useState(E||"Creations"),[P,q]=n.useState(T||"All services"),F=(0,f.n)("provider"),O=(0,f.n)("type");return n.useEffect(()=>{F(P)},[P]),n.useEffect(()=>{O(S)},[S]),n.useEffect(()=>{s||b(!0)},[b,s,t]),(0,l.jsx)(i.Z,{children:(0,l.jsxs)(a.Z,{children:[(0,l.jsxs)("div",{className:"not-italic font-normal text-2xl leading-8 text-muted-foreground mb-8",children:["Results for ",(0,l.jsxs)("b",{className:"text-foreground",children:['"',t,'"']})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-center items-start gap-10 p-0 ",children:[(0,l.jsxs)("div",{className:"hidden md:flex flex-col items-start gap-6 p-0 w-1/4",children:[(0,l.jsxs)("div",{className:"flex flex-col items-start gap-2 p-0 w-full",children:[(0,l.jsx)("div",{className:"not-italic font-medium text-[10px] leading-3 tracking-widest uppercase opacity-50",children:"Sort by"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(o.Z,{label:"",value:C,size:"medium",options:v,onChange:e=>_(e)})})]}),(0,l.jsxs)("div",{className:"flex flex-col items-start gap-2 p-0 w-full",children:[(0,l.jsx)("div",{className:"not-italic font-medium text-[10px] leading-3 tracking-widest uppercase opacity-50",children:"Type"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)(u.E,{className:"w-full",value:S,onChange:e=>k(e),children:[(0,l.jsx)(u.E.Label,{className:"sr-only",children:"Type"}),(0,l.jsx)("div",{className:"flex flex-col items-start gap-2 p-0 w-full",children:w.map(e=>(0,l.jsx)(u.E.Option,{value:e,children:t=>{let{checked:s}=t;return(0,l.jsxs)("div",{className:"".concat(s?"bg-muted":"bg-background"," w-full flex flex-row justify-start items-center gap-2 p-2 rounded-md"),children:[(0,l.jsx)("div",{className:"w-4 h-4",children:s?(0,l.jsx)(m.Z,{name:"radioFilled",className:"w-full h-full"}):(0,l.jsx)(m.Z,{name:"radioEmpty",className:"w-full h-full text-muted-foreground"})}),(0,l.jsx)("div",{className:"not-italic font-medium text-[10px] leading-3 tracking-widest uppercase opacity-50",children:e})]})}},e))})]})})]}),(0,l.jsxs)("div",{className:"flex flex-col items-start gap-2 p-0 w-full",children:[(0,l.jsx)("div",{className:"not-italic font-medium text-[10px] leading-3 tracking-widest uppercase opacity-50",children:"Service"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)(u.E,{className:"w-full",value:P,onChange:e=>q(e),children:[(0,l.jsx)(u.E.Label,{className:"sr-only",children:"Service"}),(0,l.jsx)("div",{className:"flex flex-col items-start gap-2 p-0 w-full",children:N.map(e=>(0,l.jsx)(u.E.Option,{value:e,children:t=>{let{checked:s}=t;return(0,l.jsxs)("div",{className:"".concat(s?"bg-muted":"bg-background"," w-full flex flex-row justify-start items-center gap-2 p-2 rounded-md"),children:[(0,l.jsx)("div",{className:"w-4 h-4",children:s?(0,l.jsx)(m.Z,{name:"radioFilled",className:"w-full h-full"}):(0,l.jsx)(m.Z,{name:"radioEmpty",className:"w-full h-full text-muted-foreground"})}),(0,l.jsx)("div",{className:"not-italic font-medium text-[10px] leading-3 tracking-widest uppercase opacity-50",children:e})]})}},e))})]})})]})]}),(0,l.jsx)("div",{className:"w-full md:w-3/4",children:"Creations"===S?(0,l.jsx)(l.Fragment,{children:(0,d.H)(t)&&(0,l.jsx)(c.Z,{query:t})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(x.l,{service:"All Services"!==P?P:void 0,query:t})})})]})]})})}},85335:function(e,t,s){"use strict";s.d(t,{m:function(){return l}});let l=(e,t)=>e.replace("public","width=".concat(t))}},function(e){e.O(0,[9937,9774,2888,179],function(){return e(e.s=8266)}),_N_E=e.O()}]);
//# sourceMappingURL=search-93777dc500a0bcbf.js.map